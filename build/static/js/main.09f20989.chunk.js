(this["webpackJsonpnetero-react"]=this["webpackJsonpnetero-react"]||[]).push([[0],{61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(25),c=a(11),s=a(3),i=a(8),l=a(1),r=a.n(l),o=a(26),j=function(){var e;return null===(e=document.cookie.match(/accessToken=(.+?)(;|$)/))||void 0===e?void 0:e[1]},u=function(){var e=j();if(!e)return!1;var t=e.split(".")[1].replaceAll("_","/").replaceAll("-","+");return!(1e3*JSON.parse(window.atob(t)).exp<Date.now())},d=a.n(o).a.create({baseURL:"https://netero.herokuapp.com/"}),b=function(e){return d.get(e,{headers:{Authorization:"Bearer ".concat(j())}})},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return d.post(e,t,{headers:{Authorization:"Bearer ".concat(j())}})},m=a(2),x=function(e){return Object(m.jsxs)("div",{className:"field japanese",children:[Object(m.jsx)("label",{className:"label has-text-grey-darker has-text-weight-medium",children:e.label}),Object(m.jsx)("div",{className:"control",children:Object(m.jsx)("input",{className:"input",placeholder:e.placeholder,name:e.name,value:e.value,onChange:e.onChange})})]})},O=function(e){var t=Object(l.useState)(""),a=Object(i.a)(t,2),n=a[0],c=a[1],s=Object(l.useState)(""),o=Object(i.a)(s,2),j=o[0],u=o[1],d=Object(l.useState)(""),b=Object(i.a)(d,2),O=b[0],f=b[1],p={trainingName:function(e){return c(e)},trainingVelocity:function(e){var t=parseInt(e);isNaN(t)?u(""):u(t)},trainingUnit:function(e){return f(e)}},v=function(e){p[e.target.name](e.target.value)};return Object(m.jsxs)("form",{onSubmit:function(t){if(!n||!j||!O)return e.setAlert({active:!0,message:Object(m.jsxs)(r.a.Fragment,{className:"japanese",children:[n?null:Object(m.jsx)("p",{children:"\u935b\u932c\u306e\u540d\u524d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"}),j?null:Object(m.jsx)("p",{children:"\u935b\u932c\u306e\u91cf\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"}),O?null:Object(m.jsx)("p",{children:"\u935b\u932c\u306e\u5358\u4f4d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"})]}),status:"is-danger"}),void t.preventDefault();h("/training",{name:n,velocity:j,unit:O}).then((function(t){200===t.status&&e.getIndexData()})),e.setAlert({active:!0,message:Object(m.jsx)(r.a.Fragment,{children:Object(m.jsxs)("p",{className:"japanese",children:["\u65b0\u3057\u3044\u935b\u932c\uff1a",n,"\u3092\u767b\u9332\u3057\u307e\u3057\u305f\uff01"]})}),status:"is-success"}),c(""),u(""),f(""),t.preventDefault()},className:"box py-5 has-background-light",children:[Object(m.jsx)(x,{label:"\u935b\u932c\u306e\u540d\u524d",placeholder:"\u8aad\u66f8\u3001\u8155\u7acb\u3066\u4f0f\u305b\u3001\u6563\u6b69",name:"trainingName",value:n,onChange:v}),Object(m.jsx)(x,{label:"\u935b\u932c\u306e\u91cf",placeholder:"1\u300110\u300130",name:"trainingVelocity",value:j,onChange:v}),Object(m.jsx)(x,{label:"\u935b\u932c\u306e\u5358\u4f4d",placeholder:"\u6642\u9593\u3001\u56de\u3001\u5206",name:"trainingUnit",value:O,onChange:v}),Object(m.jsx)("input",{type:"submit",value:"\u767b\u9332",className:"button japanese"})]})},f=function(e){return Object(m.jsxs)("div",{className:"notification is-size-5-tablet is-size-6-mobile ".concat(e.status),children:[Object(m.jsx)("button",{className:"delete",onClick:function(){return e.onDelete()}}),e.message]})},p=function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{className:"mt-6 title is-4 has-text-centered",children:"Netero\u3092\u4f7f\u3046\u306b\u306f\u8a8d\u8a3c\u304c\u5fc5\u8981\u3067\u3059"}),Object(m.jsx)("div",{className:"columns mt-4",children:Object(m.jsx)("div",{className:"column is-one-fifth is-offset-two-fifths is-half-mobile is-offset-one-quarter-mobile",children:Object(m.jsx)("a",{className:"button is-primary is-fullwidth",href:"https://netero.jp.auth0.com/authorize?response_type=token&client_id=PStSWdvj7dggxO2TAOWtV2bjC8nwi5dl&redirect_uri=https://netero.netlify.app&nonce=safsaf&audience=https://netero-implicit-auth.jp",children:"\u30ed\u30b0\u30a4\u30f3"})})})]})},v=function(e){var t=Object(l.useState)([]),a=Object(i.a)(t,2),n=a[0],s=a[1],o=Object(l.useState)(new Set),j=Object(i.a)(o,2),u=j[0],d=j[1],x=Object(l.useState)({active:!1,message:"",status:""}),v=Object(i.a)(x,2),g=v[0],N=v[1],k=function(){b("/index").then((function(e){s(e.data.trainings),d(new Set(e.data.achievedIds))}))};Object(l.useEffect)(k,[]);return e.checkAuthentication()?Object(m.jsx)("div",{className:"columns",children:Object(m.jsxs)("div",{className:"column is-three-fifths is-offset-one-fifth",children:[Object(m.jsx)("p",{className:"title is-3 is-size-5-mobile is-spaced has-text-centered japanese",children:"\u4eca\u65e5\u306e\u935b\u932c"}),g.active?Object(m.jsx)(f,{message:g.message,onDelete:function(){return N({active:!1,message:""})},status:g.status}):null,Object(m.jsx)("div",{className:"box has-background-light",children:Object(m.jsx)("ul",{style:{overflow:"scroll",height:"30vh"},children:n.map((function(e){return Object(m.jsx)("li",{className:"box content py-3",children:Object(m.jsxs)("div",{className:"columns is-vcentered is-mobile",children:[Object(m.jsx)("div",{className:"column is-10-tablet is-9-mobile pl-5",children:Object(m.jsxs)(c.b,{to:"/detail/".concat(e.id),className:"is-size-4 is-size-6-mobile has-text-weight-bold",children:[e.name," ",e.velocity," ",e.unit,"\xa0"]})}),Object(m.jsx)("div",{className:"column is-2-tablet is-3-mobile is-flex is-flex-direction-column is-align-items-center",children:u.has(e.id)?Object(m.jsx)("button",{className:"button is-primary is-inverted",style:{width:"60px"},disabled:!0,children:Object(m.jsx)("span",{className:"is-size-3",children:"\u2705"})}):Object(m.jsx)("button",{onClick:function(t){return function(e,t,a){h("/achievement/".concat(t)).then((function(e){200===e.status&&k()})),N({active:!0,message:Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsxs)("p",{children:["\u4eca\u65e5\u306e",a,"\u3092\u9054\u6210\u3057\u307e\u3057\u305f\uff01"]}),Object(m.jsxs)("p",{children:[Object(m.jsx)(c.b,{to:"/detail/".concat(t),children:"\u8a73\u7d30\u30da\u30fc\u30b8"}),"\u3067\u3053\u308c\u307e\u3067\u306e\u9054\u6210\u3092\u78ba\u8a8d\u3057\u3088\u3046\uff01"]})]}),status:"is-success"}),e.preventDefault()}(t,e.id,e.name)},className:"button japanese",style:{width:"60px"},children:"\u9054\u6210"})})]})},e.id)}))})}),Object(m.jsx)("p",{className:"title is-3 is-size-5-mobile is-spaced has-text-centered mt-6 japanese",children:"\u65b0\u3057\u304f\u935b\u932c\u3092\u767b\u9332\u3059\u308b"}),Object(m.jsx)(O,{getIndexData:k,setAlert:N}),Object(m.jsx)("button",{type:"button",className:"button japanese",onClick:function(){document.cookie="accessToken=; expires=Thu, 01 Jan 1970 00:00:00 GMT",window.location.replace("")},children:"\u30ed\u30b0\u30a2\u30a6\u30c8\u3059\u308b"})]})}):Object(m.jsx)(p,{})},g=a(29),N=a(28),k=(a(61),function(e){return e.split("/")[2]}),y=function(e){var t=Object(l.useState)({}),a=Object(i.a)(t,2),n=a[0],c=a[1],s=Object(l.useState)(0),r=Object(i.a)(s,2),o=r[0],j=r[1],u=Object(l.useState)([]),d=Object(i.a)(u,2),h=d[0],x=d[1];return Object(l.useEffect)((function(){b("/training/".concat(k(e.location.pathname))).then((function(e){c(e.data.training),j(e.data.totalVelocity),x(e.data.achievements)}))}),[]),e.checkAuthentication()?Object(m.jsxs)("div",{children:[Object(m.jsxs)("h1",{className:"title is-1 has-text-centered",children:[n.name," ",n.velocity," ",n.unit]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{className:"subtitle is-4 has-text-centered mt-6 japanese",children:"\u3053\u308c\u307e\u3067\u306e\u9054\u6210"}),Object(m.jsxs)("p",{className:"title is-1 has-text-centered",children:[o," ",n.unit]})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{className:"subtitle is-4 has-text-centered mt-6 japanese",children:"\u9054\u6210\u30ab\u30ec\u30f3\u30c0\u30fc"}),Object(m.jsx)("div",{className:"is-flex is-flex-direction-column is-align-items-center",children:Object(m.jsx)(g.a,{tileClassName:function(e){var t=e.date;return h.includes(N(t).format("YYYY-MM-DD"))?"has-text-white has-background-primary":""},className:"box",onActiveStartDateChange:function(t){var a=t.activeStartDate,n=a.getFullYear(),s=a.getMonth()+1,i=s<10?"0".concat(s):s.toString();b("/training/".concat(k(e.location.pathname),"?year=").concat(n,"&month=").concat(i)).then((function(e){c(e.data.training),j(e.data.totalVelocity),x(e.data.achievements)}))}})})]})]}):Object(m.jsx)(p,{})},S=function(e){return Object(m.jsx)("nav",{className:"navbar",role:"navigation","aria-label":"main navigation",children:Object(m.jsxs)("div",{className:"navbar-brand",children:[Object(m.jsx)("a",{className:"navbar-item title is-3",href:"/",children:"NETERO"}),Object(m.jsx)("div",{className:"navbar-item subtitle is-6 japanese",children:"\u6bce\u65e5\u3001\u611f\u8b1d\u306e\u6b63\u62f3\u7a81\u304d\u3092"})]})})},w=function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(S,{}),Object(m.jsx)(c.a,{children:Object(m.jsxs)(s.c,{children:[Object(m.jsx)(s.a,{path:"/detail/:id",exact:!0,render:function(e){var t=e.location;return Object(m.jsx)(y,{location:t,checkAuthentication:u})}}),Object(m.jsx)(s.a,{path:"/",render:function(){var e=function(e){var t;return null===(t=e.match(/#access_token=(.+?)&/))||void 0===t?void 0:t[1]}(location.hash);return e&&(document.cookie="accessToken=".concat(e)),Object(m.jsx)(v,{checkAuthentication:u})}})]})})]})};Object(n.render)(Object(m.jsx)(w,{}),document.querySelector("#root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.09f20989.chunk.js.map